## 03. &#127752; Django:  Multiple Apps

#### 01.  ì‹œì‘í•˜ê¸° 

---

##### 1.0 ì¶”ê°€ì ì¸ app ìƒì„±í•˜ê¸°

```python
python manage.py startapps utilites
```

- í”„ë¡œì íŠ¸ êµ¬ì¡°

```
â”œâ”€â”€ django_intro							----> í”„ë¡œì íŠ¸
â”‚Â Â  â”œâ”€â”€ __init__.py
â”‚Â Â  â”œâ”€â”€ __pycache__
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.cpython-36.pyc
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ settings.cpython-36.pyc
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ urls.cpython-36.pyc
â”‚Â Â  â”‚Â Â  â””â”€â”€ wsgi.cpython-36.pyc
â”‚Â Â  â”œâ”€â”€ settings.py
â”‚Â Â  â”œâ”€â”€ urls.py
â”‚Â Â  â””â”€â”€ wsgi.py
â”œâ”€â”€ home									----> app1
â”œâ”€â”€ utilities								----> app2
â””â”€â”€ manage.py
```



---



##### 1.1  í”„ë¡œì íŠ¸ ì•ˆ urls.py ìˆ˜ì •í•˜ê¸°

**&#128204;ìˆ˜ì •í•˜ëŠ” ì´ìœ **: ìˆ˜ì • ì „ urls.pyì— ìƒˆë¡œìš´ appì´ ì¶”ê°€ë  ê²½ìš° ì•„ë˜ì™€ ê°™ì´ viewsê°€ ê²¹ì¹˜ê¸° ë•Œë¬¸ì´ë‹¤. 

```python
from home import views
from utilities import views
```

- ìˆ˜ì • **ì „** 

  í”„ë¡œì íŠ¸ `urls.py`

  ```python
  from django.contrib import admin
  from django.urls import path
  from home import views
  
  urlpatterns = [
      path('home/pong/', views.pong, name='pong'),
      path('home/ping/', views.ping, name='ping'),
      path('home/cube/<number>/', views.cube, name = 'cube'),
      path('home/dinner/',views.dinner, name = 'dinner'),
      path('home/index/', views.index, name='index'),
  ]
  ```

- ìˆ˜ì • **í›„**

  í”„ë¡œì íŠ¸ `urls.py`

  ```python
  from django.contrib import admin
  from django.urls import path, include
  
  urlpatterns = [
      path('utilities/', include('utilities.urls')),
      path('home/', include('home.urls')),
      path('admin/', admin.site.urls),
  ]
  ```

  home(app)ì— urls.pyë¥¼ ë§Œë“¤ì–´hoem appì˜ pathë¥¼ ë„£ì–´ì¤€ë‹¤.

  `home/urls.py`

  ```python
  from django.urls import path
  from . import views
  
  urlpatterns = [
      path('pong/', views.pong, name='pong'),
      path('ping/', views.ping, name='ping'),
      path('cube/<number>/', views.cube, name = 'cube'),
      path('dinner/',views.dinner, name = 'dinner'),
      path('index/', views.index, name='index'),
  ]
  ```

  

---



##### 1.2   Template name spacing

djangoê°€ ì‹¤í–‰ ë ë•Œ appì˜ ëª¨ë“  templates( `static` í´ë”ë„ í¬í•¨ )ë¥¼ ëª¨ì•„ ì‹¤í–‰ í•˜ê¸° ë•Œë¬¸ì— ì´ì „ templateì— ì˜í•´ ì´ í›„ tempalteê°€ ë¨¹íˆê°€ ëœë‹¤. ë•Œë¬¸ì— ê° appì˜ 

`app1/templates`  `app1/templates` ë¥¼ 

``app1/templates/app1ëª…` `app2/templates/app2ëª…` ë¡œ **name spacing**ì„ í•´ì¤˜ì•¼í•œë‹¤.

- home(app1)ì˜ êµ¬ì¡°

  

  ```
  â”œâ”€â”€ home
  â”‚Â Â  â”œâ”€â”€ __init__.py
  â”‚Â Â  â”œâ”€â”€ __pycache__
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ admin.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ apps.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ models.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ urls.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â””â”€â”€ views.cpython-36.pyc
  â”‚Â Â  â”œâ”€â”€ admin.py
  â”‚Â Â  â”œâ”€â”€ apps.py
  â”‚Â Â  â”œâ”€â”€ migrations
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.py
  â”‚Â Â  â”‚Â Â  â””â”€â”€ __pycache__
  â”‚Â Â  â”‚Â Â      â””â”€â”€ __init__.cpython-36.pyc
  â”‚Â Â  â”œâ”€â”€ models.py
  â”‚Â Â  â”œâ”€â”€ ğŸŒŸ static                    
  â”‚Â Â  â”‚Â Â  â””â”€â”€ home							----> !!!
  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ images
  â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ cat.jpg
  â”‚Â Â  â”‚Â Â      â””â”€â”€ stylesheets
  â”‚Â Â  â”‚Â Â          â””â”€â”€ style.css
  â”‚Â Â  â”œâ”€â”€ ğŸŒŸ templates	
  â”‚Â Â  â”‚Â Â  â””â”€â”€ home							----> !!!
  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ cube.html
  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ index.html
  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ping.html
  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ pong.html
  â”‚Â Â  â”‚Â Â      â””â”€â”€ static_exaple.html
  â”‚Â Â  â”œâ”€â”€ tests.py
  â”‚Â Â  â”œâ”€â”€ urls.py
  â”‚Â Â  â””â”€â”€ views.py
  â””â”€â”€
  ```

- utilities(app2)ì˜ êµ¬ì¡°

  ```
  â””â”€â”€ utilities
      â”œâ”€â”€ __init__.py
      â”œâ”€â”€ __pycache__
      â”‚Â Â  â”œâ”€â”€ __init__.cpython-36.pyc
      â”‚Â Â  â”œâ”€â”€ admin.cpython-36.pyc
      â”‚Â Â  â”œâ”€â”€ apps.cpython-36.pyc
      â”‚Â Â  â”œâ”€â”€ models.cpython-36.pyc
      â”‚Â Â  â”œâ”€â”€ urls.cpython-36.pyc
      â”‚Â Â  â””â”€â”€ views.cpython-36.pyc
      â”œâ”€â”€ admin.py
      â”œâ”€â”€ apps.py
      â”œâ”€â”€ migrations
      â”‚Â Â  â”œâ”€â”€ __init__.py
      â”‚Â Â  â””â”€â”€ __pycache__
      â”‚Â Â      â””â”€â”€ __init__.cpython-36.pyc
      â”œâ”€â”€ models.py
      â”œâ”€â”€ ğŸŒŸ templates
      â”‚Â Â  â””â”€â”€ utilities							----> !!!
      â”‚Â Â      â””â”€â”€ index.html
      â”œâ”€â”€ tests.py
      â”œâ”€â”€ urls.py
      â””â”€â”€ views.py
  ```



---



##### 1.3. base template ìƒì†í•˜ê¸°

**ì—¬ëŸ¬ê°œì˜ appì— í•˜ë‚˜ì˜ base template ì„ ìƒì† í•˜ê³  ì‹¶ì„ë•?**

- í”„ë¡œì íŠ¸ì•ˆì— `templates`í´ë”ì•ˆì— ë„£ì–´ ì‚¬ìš©í•œë‹¤.

  ```
  â”œâ”€â”€ django_intro
  â”‚Â Â  â”œâ”€â”€ __init__.py
  â”‚Â Â  â”œâ”€â”€ __pycache__
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ settings.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ urls.cpython-36.pyc
  â”‚Â Â  â”‚Â Â  â””â”€â”€ wsgi.cpython-36.pyc
  â”‚Â Â  â”œâ”€â”€ settings.py
  â”‚Â Â  â”œâ”€â”€ ğŸŒŸ templates                                 ----> !!!!
  â”‚Â Â  â”‚Â Â  â””â”€â”€ base.html
  â”‚Â Â  â”œâ”€â”€ urls.py
  â”‚Â Â  â””â”€â”€ wsgi.py
  ```



- í”„ë¡œì íŠ¸ `settings.py` ì„¤ì •

  ì„œë²„ê°€ ì‹œì‘í•˜ìë§ˆì í”„ë¡œì íŠ¸ì•ˆì˜ root `templates`ë¥¼ ê°€ì¥ ë¨¼ì € ë³´ê²Œí•œë‹¤.

  ```python
  TEMPLATES = [
      {
          'BACKEND': 'django.template.backends.django.DjangoTemplates',
  # ë””ë ‰í† ë¦¬ì— ì„œë²„ê°€ ì‹œì‘í•˜ìë§ˆì í”„ë¡œì íŠ¸ì˜ templatesë¥¼ ê°€ì¥ ë¨¼ì € ë³´ê²Œí•œë‹¤.
          'DIRS': [os.path.join(BASE_DIR, 'django_intro', 'templates')],
          'APP_DIRS': True,
  #INSTALLD APP ì— ì„¤ì •ëœ  APPì˜ ë””ë ‰í† ë¦¬ì— ìˆëŠ” templatesë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ í™œìš©í•œë‹¤.
          'OPTIONS': {
              'context_processors': [
                  'django.template.context_processors.debug',
                  'django.template.context_processors.request',
                  'django.contrib.auth.context_processors.auth',
                  'django.contrib.messages.context_processors.messages',
              ],
          },
      },
  ]
  ```