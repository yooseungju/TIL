## 04. &#127752;Django:  sql사용하기	

#### 01. 



모델 만들기

models.py

```python
from django.db import models

# Create your models here.
class Board(models.Model): #각 모델은 django.db.models.Model 킬래스의 서브 클래스로 표현
    title = models.CharField(max_length=10) #max_length는 charfield의 필수 인자
    content = models.TextField() # 제한이 없는 string을 받을때
    created_at = models.DateTimeField(auto_now_add=True) # 작성시간이 박힘(UTC)
    #auto_now_add=True: 장고 모델이 최초저장시에만 현재 날짜를 적용
    
```



settings.py

```python
USE_TZ = False
```



 DB에 저장하기 전에 장고에게 db를 사용하겠다고 선언 

$ python manage.py makemigrations <app이름>



구조

```
├── boards
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── migrations
│   │   └── 0001_initial.py
│   │     
│   ├── models.py
│   ├── tests.py
│   └── views.py
```



DB에 넣지 않은 상태에서 models을 만들어 저장

$ python manage.py sqlmigrate boards 0001

저장된 migrations을 통해 DB가 만들어짐

$ python manage.py migrate

$ sqlite3 db.sqlite3

```
.tables 테이블 확인
```

DDL

shell로 직접 데이터 넣기

 $ python manage.py shell

```
>>> from boards.models import Board 
>>> board = Board()
>>> board.content = 'first'  
>>> board.save()
>>> Board.object.all()
```

extension 설치하기

$ pip install django-extensions



settins.py 에 추가하기

```py
INSTALLED_APPS = [
    'boards.apps.BoardsConfig',
    'django_extensions',
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
```

